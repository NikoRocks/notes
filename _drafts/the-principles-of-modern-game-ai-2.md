---
title: Принципы современного игрового ИИ. Второй урок
---

В данном уроке происходит обзор способа ручного добавления игрового контента,
управления им с целью ускорения и упращения разработки, а также небольшой обзор
алгебраических функций, которые можно использовать для автоматической генерации
контента.

# Авторинг

На практике существует множество способов создания игрового контента, но в
данном уроке будер рассмотрен подход с ручным созданием цифрового контента,
который и называется "авторинг". Казалось бы, какое отношение создание контента
имеет к искуственному интеллекту? Как будет рассмотрено, у авторинга есть
весомые приемущества по сравнению с другими подходами,
как с точки зрения бизнеса, так и с технологической точки зрения - главным
образом потому, что это наиболее простой способ добавления необходимого
контента в игру.

![](/images/the-principles-of-modern-game-ai/2/1-content-generation.jpg)

Итак, можно выделить семь основных причин, по которым авторинг имеет широкое
применение:

1. Ручное создание контента приводит к более глубогкому пониманию предметной
   области, а также к появлению более-менее формального определения или
   спецификации, что может поспособствовать автоматизации процесса генерации
   контента в будущем; авторинг можно использовать как базу, от которой потом
   отталкиваться

2. Авторинг провоцирует создание пайплайнов для загрузки контента с диска в
   движок, конвертацию их в удобоваримый формат и так далее; с самого начала
   разработки данная подсистема естественным образом будет хорошо
   оттестирована, а в последующем ничего не мешает просто заменить ручной
   контент на автоматически генерируемый

3. С точки зрения методологии данный подход позволяет получить рабочий прототип
   как можно раньше, постепенно его дорабатывая, что скажется на процессе
   разработки только положительным образом

4. Авторинг способствует контролю за сложностью, потому как вручную созданный
   цифровой контент лежит на диске и работает весьма независимо друг от друга;
   контент легче создать руками, чем написать код для его создания; меньше кода
   - меньше сложности в игровом движке

5. Если рассмотреть вопрос менеджмента, то авторинг удобней и дешевле, потому
   как позволяет распределять ответственность:
   проще нанять аниматоров и дизайнеров для создания ручного контента, чем
   программиста с необходимым уровнем навыков, который бы писал код для
   создания контента

6. Авторинг лучше масштабируется горизонтально - например, можно усилить работу
   над созданием контента ближе к релизу, наняв больше людей, в то время как на
   ранних этапах разработки достаточно небольшого количества контента;
   генерация контента с помощью кода чревата тем, что многие возможности могут
   не быть учтены на ранних этапах, и написанный для генерации движок может
   просто не позволить иметь те или иные возможность; может понадобиться его
   рефакторинг, etc

7. Наконец, ручное создание контента предполагает более высокое его качества;
   контент, сгенерированный с помощью алгоритмом, имеет свойство быть среднего
   качества, хотя его вариаций может быть существенно больше


Одной из главных проблем является поиск компромисса между качеством контента и
его количеством. Создание большого количества качественного контента требует
огромного количества ресурсов; с другой стороны, простое копирование контента
будет нарушать атмосферу игры - пользователю может не понравиться, например,
если он будет увидит ланшафт, состоящий из абсолютно идентичных гор.

Одним из способов достижения компромисса, помимо приемуществ с точки зрения
архитектуры, является использование модульного подхода. При этом подходе
целостная сущность дробиться на несколько частей, и затем требуется создать
несколько вариаций каждой из этих частей. Теперь, создание нового варианта
контента можно возложить на алгоритм. Таким образом, мы получаем комбинаторное
увеличение количества вариантов контента, и, вероятно, не сильно потеряем в
качестве.

![](/images/the-principles-of-modern-game-ai/2/2-modularity.jpg)

Но тут есть несколько нюансов, о которых необходимо помнить. В
некоторых случаях одни вариации могут зависеть от других - например, в случае,
когда некоторая фраза может быть произнесена только в след за определенной
предыдущей. Эти зависимости могут быть как явными, так и скрытыми, и при фиксе
багов необходимо удостовериться, что баг пофикшен во всех возможных комбинациях
контента.

![](/images/the-principles-of-modern-game-ai/2/3-modules-dependencies.jpg)

Существует два основных подхода к тому, чтобы привнести модульность в
создаваемый вручную контент. Первый - это подход с созданием шаблонов, подход
"сверху - вниз". В уже имеющимся контенте некоторые места заменяются на
переменные, то есть контент становится шаблоном, а актуальные значения в него
добавляются по требованию. Например, в генераторе ланшафта могут быть объявлены
места для точек интереса, а непосредственно то, что там сгенерировать - дом,
озеро или пещеру - принимается решение на последующем этапе. Данный подход
хорошо тем, что с него просто начать, и в некоторых случаях результат может
быть весьма высококачественным; с другой стороны, количество вариаций
ограничено вручную, и это вариации могут казаться весьма монотонными.

Другой подход, "снизу - вверх" - блочный подход. Основная идея - начать с
простых блоков и затем комбинировать из них более сложные. Данный подход не
страдает от малого объема вариаций и для некоторых случаев подходит просто
идеально, но зачастую не все комбинации имеют смысл, могут смотреться нелепо,
то есть качество хромает.

Ничто не мешает использовать при этом гибридный подход, создавая своеобразное
дерево шаблонов, при котором контент, сгенерированный из блоков, может
использоваться в качестве значения в заранее определенном шаблоне и при этом, с другой
стороны, каждый из блоков может создаваться по определенному шаблону.

![](/images/the-principles-of-modern-game-ai/2/4-templates-blocks-tree.jpg)

В некоторых случаях, если этих описанных подходов недостаточно, можно придумать
и другие подходы - например, с некой хитроумной системой оценки качества
контента, требующей перегенерации, пока результат не будет удовлетворять
определенным критериям.
